<!DOCTYPE html>
<html lang="uk" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" th:href="@{${context_path}/adminLte/css/adminlte.css}" />

    <style>
        .error-message {
            color: red;
            font-size: small;
        }
    </style>
</head>

<body>
<table style="width: 100%">
    <tr>
        <td style="width: 90%">
            <center>
                <form id="myForm" th:action="@{{context_path}/authenticate(context_path=${context_path})}" method="POST"
                      onsubmit="return validateEmail();">
                    email: <input class="form-control" type="text" name="username" id="usernameInput"
                                  placeholder="username" style="display: inline-block; margin-top: 35px; width: 40%;">
                    <br>
                    <span id="emailError" class="error-message"></span>
                    <br>
                    password: <input class="form-control" type="text" name="password"
                                     placeholder="password" style="display: inline-block; margin-top: 35px; width: 40%;"><br>
                    <button type="submit" class="btn btn-secondary" style="margin-top: 25px">
                        Увійти
                    </button>
                </form>
            </center>
        </td>
    </tr>
</table>
<script>
    function validateEmail() {
        var emailInput = document.getElementById('usernameInput').value;
        var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        var emailError = document.getElementById('emailError');

        if (!emailRegex.test(emailInput)) {
            emailError.textContent = 'Введено некоректну електронну адресу!';
            return false;
        }

        emailError.textContent = '';
        return true;
    }
</script>
</body>

</html>
